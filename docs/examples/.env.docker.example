# Shopify Nano-SRE - Docker Deployment Configuration
# Copy this file to .env when deploying with Docker

# ============================================
# STORE CONFIGURATION
# ============================================

# Required: Your Shopify store URL
STORE_URL=https://your-store.myshopify.com

# Optional: Shopify Admin API key (required for Shopify Doctor skill)
SHOPIFY_ADMIN_API_KEY=

# ============================================
# LLM CONFIGURATION
# ============================================

# LLM Provider
# Options: openai, anthropic, ollama
# For Docker: openai or anthropic recommended (ollama requires separate container)
LLM_PROVIDER=openai

# API key for the LLM provider
# IMPORTANT: Use Docker secrets or environment variable injection
# Never commit this value to version control
LLM_API_KEY=

# Model name for LLM
# OpenAI: gpt-4, gpt-4-turbo, gpt-3.5-turbo
# Anthropic: claude-3-opus, claude-3-sonnet, claude-3-haiku
LLM_MODEL=gpt-4

# ============================================
# ALERTING
# ============================================

# Required for production: Webhook URL for alerts
# Discord: https://discordapp.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_TOKEN
# Slack: https://hooks.slack.com/services/YOUR_WEBHOOK_DATA
ALERT_WEBHOOK_URL=

# ============================================
# MONITORING & STORAGE
# ============================================

# Interval in minutes between checks
# Recommended: 15-30 for production stores
CHECK_INTERVAL_MINUTES=30

# Path to SQLite database file
# In Docker, this should point to a mounted volume
SQLITE_DB_PATH=/data/nano_sre.db

# ============================================
# PRIVACY & SECURITY
# ============================================

# Enable PII redaction in logs and reports
# Recommended: true for production
REDACT_PII=true

# Enable blurring of sensitive selectors in screenshots
# Recommended: true for production
SCREENSHOT_BLUR_ENABLED=true

# ============================================
# PRODUCTION SETTINGS
# ============================================

# Log level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Recommended: INFO for production
LOG_LEVEL=INFO

# Run browser in headless mode
# Should always be true for Docker
HEADLESS=true

# Browser viewport size
VIEWPORT_WIDTH=1920
VIEWPORT_HEIGHT=1080

# ============================================
# DOCKER-SPECIFIC SETTINGS
# ============================================

# Timezone for container
TZ=UTC

# Number of worker processes (if using multiprocessing)
WORKERS=1

# Container memory limit (set in docker-compose.yml)
# Recommended: 2GB minimum

# ============================================
# HEALTH CHECK CONFIGURATION
# ============================================

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check port (if running as a service)
HEALTH_CHECK_PORT=8080

# ============================================
# DOCKER DEPLOYMENT NOTES
# ============================================

# Quick Start:
#
# 1. Copy this file:
#    cp .env.docker.example .env
#
# 2. Edit .env and add your configuration
#
# 3. Start the container:
#    docker-compose up -d
#
# 4. View logs:
#    docker-compose logs -f
#
# 5. Stop the container:
#    docker-compose down
#
# Volume Mounts:
#   - ./data:/data - Persistent storage for SQLite database
#   - ./reports:/app/reports - Incident reports
#
# Security Best Practices:
#   - Use Docker secrets for sensitive values
#   - Run container as non-root user
#   - Keep images updated
#   - Use specific image tags, not 'latest'
#   - Scan images for vulnerabilities
#
# Scaling:
#   - For multiple stores, run separate containers
#   - Use orchestration (Kubernetes, Docker Swarm) for high availability
#   - Consider load balancing for parallel checks
